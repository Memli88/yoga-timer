<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Morning Yoga Timer</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f172a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Yoga Timer">

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  width: 94%;
  max-width: 460px;
  text-align: center;
}

h1 { font-size: 1.2rem; margin-bottom: 0.3rem; }

.section { color: #93c5fd; font-size: 1rem; margin-top: 0.5rem; }
.movement { font-size: 1.1rem; margin-top: 0.4rem; }
.timer { font-size: 3.6rem; margin: 0.6rem 0; }

.instruction {
  font-size: 0.9rem;
  opacity: 0.85;
  line-height: 1.3;
}

button {
  padding: 12px 18px;
  margin: 6px;
  border: none;
  border-radius: 8px;
  background: #2563eb;
  color: white;
}
</style>
</head>

<body>
<div class="container">
  <h1>ðŸŒž Morning Full-Body Yoga</h1>
  <div class="section" id="section"></div>
  <div class="movement" id="movement"></div>
  <div class="timer" id="timer">00:00</div>
  <div class="instruction" id="instruction"></div>

  <div>
    <button onclick="start()">Start</button>
    <button onclick="pause()">Pause</button>
    <button onclick="reset()">Reset</button>
  </div>
</div>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}

/* ðŸ”” simple offline bell */
const bell = new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=");

/* ðŸ§˜â€â™‚ï¸ FULL PRACTICE STRUCTURE */
const practice = [
{
  section: "Tuning-In & Breath",
  steps: [
    { name: "Easy Seat â€“ Breath Awareness", time: 60,
      cue: "Sit tall on sit bones. Relax shoulders. Slow nasal breathing." },
    { name: "Kundalini Tuning-In", time: 60,
      cue: "Mentally chant Ong Namo Guru Dev Namo Ã—3. Feel inner guidance." },
    { name: "Gentle Breath of Fire", time: 60,
      cue: "Short rhythmic exhales through the nose. Inhale passive. Stop if dizzy." }
  ]
},
{
  section: "Kundalini Spinal Activation",
  steps: [
    { name: "Spinal Flex", time: 90,
      cue: "Inhale chest forward. Exhale round spine. Hands on shins." },
    { name: "Sufi Circles", time: 90,
      cue: "Circle torso smoothly both directions. Head relaxed." },
    { name: "Seated Side Stretch", time: 60,
      cue: "Lift arm, side bend without collapsing chest." },
    { name: "Dynamic Seated Twist", time: 120,
      cue: "Inhale lengthen spine. Exhale twist from navel upward." }
  ]
},
{
  section: "Warm-Up Flow",
  steps: [
    { name: "Catâ€“Cow", time: 120,
      cue: "Inhale drop belly, lift chest. Exhale round spine, chin in." },
    { name: "Thread the Needle", time: 90,
      cue: "Slide arm under chest. Rest shoulder if comfortable." },
    { name: "Downward-Facing Dog", time: 90,
      cue: "Hips high, spine long. Pedal feet. Press fingertips." }
  ]
},
{
  section: "Sun Salutation",
  steps: [
    { name: "Mountain â†’ Forward Fold", time: 120,
      cue: "Feet grounded. Hinge from hips. Neck relaxed." },
    { name: "Plank", time: 90,
      cue: "Shoulders over wrists. Core active." },
    { name: "Cobra / Up Dog", time: 90,
      cue: "Chest opens. Elbows hug ribs. No belly gripping." },
    { name: "Low Lunge", time: 120,
      cue: "Back knee down. Spine tall. Hips gently forward." }
  ]
},
{
  section: "Standing Strength & Balance",
  steps: [
    { name: "Warrior I", time: 90,
      cue: "Hips square. Arms reach up. Ribs drawn in." },
    { name: "Warrior II", time: 90,
      cue: "Front knee bent. Gaze over fingers." },
    { name: "Reverse Warrior", time: 60,
      cue: "Side stretch without collapsing lower back." },
    { name: "Triangle", time: 60,
      cue: "Lengthen spine first, then lower hand." },
{ name: "Tree Pose", time: 60,
      cue: "Foot presses leg. Pelvis neutral. Steady gaze." }
  ]
},
{
  section: "Kundalini Core Kriya",
  steps: [
    { name: "Stretch Pose", time: 90,
      cue: "Lift legs, head and shoulders. Gaze toes." },
    { name: "Leg Lifts", time: 60,
      cue: "Lower legs slowly. Lower back grounded." },
    { name: "Knees to Chest + Breath of Fire", time: 60,
      cue: "Pull knees in. Rapid breath. Relax jaw." },
    { name: "Bridge Pose", time: 30,
      cue: "Lift hips. Chest opens. Gentle neck awareness." }
  ]
},
{
  section: "Grounding & Integration",
  steps: [
    { name: "Supine Twist", time: 90,
      cue: "Knees drop gently. Shoulders relaxed." },
    { name: "Happy Baby", time: 60,
      cue: "Hold feet. Knees toward armpits. Release effort." },
    { name: "Seated Forward Fold", time: 30,
      cue: "Lengthen spine, then fold." }
  ]
},
{
  section: "Savasana & Closing",
  steps: [
    { name: "Savasana", time: 120,
      cue: "Palms open. Natural breath. Full surrender." }
  ]
}
];

/* â±ï¸ TIMER ENGINE */
let s = 0, m = 0, t = practice[0].steps[0].time, interval;
const sectionEl = document.getElementById("section");
const movementEl = document.getElementById("movement");
const instructionEl = document.getElementById("instruction");
const timerEl = document.getElementById("timer");

function render() {
  const step = practice[s].steps[m];
  sectionEl.textContent = practice[s].section;
  movementEl.textContent = step.name;
  instructionEl.textContent = step.cue;
  timerEl.textContent =
    ${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")};
}

function start() {
  bell.play().catch(()=>{});
  if (interval) return;
  interval = setInterval(() => {
    t--;
    if (t < 0) {
      bell.play().catch(()=>{});
      m++;
      if (m >= practice[s].steps.length) {
        m = 0; s++;
        if (s >= practice.length) {
          clearInterval(interval);
          sectionEl.textContent = "Practice Complete ðŸŒ¿";
          movementEl.textContent = "Sat Nam";
          instructionEl.textContent = "";
          timerEl.textContent = "";
          return;
        }
      }
      t = practice[s].steps[m].time;
    }
    render();
  }, 1000);
}

function pause() { clearInterval(interval); interval = null; }
function reset() { pause(); s=0; m=0; t=practice[0].steps[0].time; render(); }

render();
</script>
</body>
</html>
